<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ERPRock: /Users/rdal/Development/ERPRock/trunk/Controllers/databasecontroller.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ERPRock
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">/Users/rdal/Development/ERPRock/trunk/Controllers/databasecontroller.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef DATABASECONTROLLER_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define DATABASECONTROLLER_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;QObject&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;QSqlDriver&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;QSqlDatabase&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;QSqlQuery&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;QVariant&gt;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#ifdef DB_POSTGRESQL</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>
<a name="l00012"></a>00012 <span class="preprocessor">#ifdef Q_OS_UNIX</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span><span class="preprocessor">#include &quot;/usr/local/qt-everywhere-opensource-src-4.7.4/src/sql/drivers/psql/qsql_psql.h&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#elif (defined Q_OS_WIN)</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span><span class="preprocessor">#include &quot;C:\\qt-everywhere-opensource-src-4.7.4\\src\\sql\\drivers\\psql\\qsql_psql.h&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#endif</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00018"></a>00018 <span class="preprocessor">#endif</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span>
<a name="l00020"></a>00020 <span class="preprocessor">#define PREFIX_DEFAULT_STORE &quot;default_store&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;user.h&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;manufacturer.h&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;provider.h&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;productcategory.h&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;product.h&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;enterprisecustomer.h&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;physicalcustomer.h&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;stockunit.h&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;productorigin.h&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;csticms.h&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;cstipi.h&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;cstpis.h&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;cstcofins.h&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;taxrate.h&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;cfop.h&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;price.h&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;store.h&quot;</span>
<a name="l00039"></a>00039 
<a name="l00041"></a>00041 
<a name="l00046"></a><a class="code" href="class_database_controller.html">00046</a> <span class="keyword">class </span><a class="code" href="class_database_controller.html" title="Controller for database.">DatabaseController</a> : <span class="keyword">public</span> QObject
<a name="l00047"></a>00047 {
<a name="l00048"></a>00048     Q_OBJECT
<a name="l00049"></a>00049 <span class="keyword">public</span>:
<a name="l00050"></a>00050 
<a name="l00052"></a>00052 
<a name="l00055"></a>00055     <span class="keyword">static</span> <a class="code" href="class_database_controller.html" title="Controller for database.">DatabaseController</a>* <a class="code" href="class_database_controller.html#aba19d53a1a0298bb18901e42315feb99" title="Returns unique instance.">getInstance</a>();
<a name="l00056"></a>00056 
<a name="l00058"></a>00058 
<a name="l00061"></a>00061     <a class="code" href="class_database_controller.html#a7815dd17cfa10ea03ff4a700fcde7c13" title="Destructor.">~DatabaseController</a>();
<a name="l00062"></a>00062 
<a name="l00068"></a>00068     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#ac3dfc1a7e25dce68b01684f23747e748">isConnectionOpen</a>();
<a name="l00069"></a>00069 
<a name="l00070"></a>00070     <a class="code" href="class_store.html" title="Store basic class.">Store</a> *getDefaultStore();
<a name="l00071"></a>00071 
<a name="l00078"></a>00078     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a26b95409ccbc9070f1d8f955bffa2362">validateLogin</a>(QString cpf, QString password);
<a name="l00079"></a>00079 
<a name="l00080"></a>00080     <span class="comment">//============== USERS ===============</span>
<a name="l00087"></a>00087 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a8f337ea178400ba7212cd47af0f04a47">userAlreadyExists</a>(QString cpf);
<a name="l00088"></a>00088 
<a name="l00098"></a>00098     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#aba650bf05743f9fd02afa5a20f06c765">createNewUser</a>(QString cpf, <a class="code" href="class_user.html#a43f49d6a3bf5f000aea476bc641949b0" title="User Role.">User::UserRole</a> role, QString name, QString password);
<a name="l00099"></a>00099 
<a name="l00109"></a>00109     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#aec1a5d3b45341ae1fd600c8c7d1bd345">updateUser</a>(QString cpf, <a class="code" href="class_user.html#a43f49d6a3bf5f000aea476bc641949b0" title="User Role.">User::UserRole</a> role, QString name, QString password);
<a name="l00110"></a>00110 
<a name="l00117"></a>00117     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a6e70f75d6438f8b9174ce8d3f10eeef7">removeUser</a>(QString cpf);
<a name="l00118"></a>00118 
<a name="l00125"></a>00125     <a class="code" href="class_user.html" title="User basic class.">User</a> *<a class="code" href="class_database_controller.html#a420cde5e14fb8949cefe9d5984535636">getUserByCPF</a>(QString cpf);
<a name="l00126"></a>00126 
<a name="l00132"></a>00132     QList&lt;User*&gt; *<a class="code" href="class_database_controller.html#a8092515456915cdf013b4e45a7335f04">getUsers</a>();
<a name="l00133"></a>00133 
<a name="l00139"></a>00139     QString <a class="code" href="class_database_controller.html#a82a98e4be056a922fd0c0cc114e24d76">getUserRoleName</a>(<a class="code" href="class_user.html#a43f49d6a3bf5f000aea476bc641949b0" title="User Role.">User::UserRole</a> <span class="keywordtype">id</span>);
<a name="l00140"></a>00140 
<a name="l00146"></a>00146     QStringList *<a class="code" href="class_database_controller.html#a532811bc79b53eab2a51bb3d713d1ee5">getUsersRoles</a>();
<a name="l00147"></a>00147 
<a name="l00148"></a>00148     <span class="comment">//=========== MANUFACTURERS =============</span>
<a name="l00155"></a>00155 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a029f51270695bec012f32b47a557cde3">manufacturerAlreadyExists</a>(QString cnpj);
<a name="l00156"></a>00156 
<a name="l00163"></a>00163     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a54844c72da5949212f675f0889366eec">createNewManufacturer</a>(<a class="code" href="class_manufacturer.html" title="User basic class.">Manufacturer</a> *manufacturer);
<a name="l00164"></a>00164 
<a name="l00171"></a>00171     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a42a8014107204b27e4be3083b4127454">updateManufacturer</a>(<a class="code" href="class_manufacturer.html" title="User basic class.">Manufacturer</a> *manufacturer);
<a name="l00172"></a>00172 
<a name="l00179"></a>00179     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a258f73f95e802dc0fbd079124097a5d1">removeManufacturer</a>(QString cnpj);
<a name="l00180"></a>00180 
<a name="l00187"></a>00187     <a class="code" href="class_manufacturer.html" title="User basic class.">Manufacturer</a> *<a class="code" href="class_database_controller.html#a42b7c72500ee24b9bb5c020356086b67">getManufacturerByCNPJ</a>(QString cnpj);
<a name="l00188"></a>00188 
<a name="l00194"></a>00194     QList&lt;Manufacturer*&gt; *<a class="code" href="class_database_controller.html#aa4d744bc3659c202686b9cdf4f32a3f4">getManufacturers</a>();
<a name="l00195"></a>00195 
<a name="l00196"></a>00196     <span class="comment">//=========== PROVIDERS =============</span>
<a name="l00203"></a>00203 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a46dea4903e25bcfba747d183abecd389">providerAlreadyExists</a>(QString cnpj);
<a name="l00204"></a>00204 
<a name="l00211"></a>00211     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a5d1aee33390137b1f57b25f9eb9525b4">createNewProvider</a>(<a class="code" href="class_provider.html" title="Provider basic class.">Provider</a> *provider);
<a name="l00212"></a>00212 
<a name="l00219"></a>00219     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#aace732ea7a728ecc2b3e56309f25901a">updateProvider</a>(<a class="code" href="class_provider.html" title="Provider basic class.">Provider</a> *provider);
<a name="l00220"></a>00220 
<a name="l00227"></a>00227     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#ac892c8792946daeeac29f8d09ce9b658">removeProvider</a>(QString cnpj);
<a name="l00228"></a>00228 
<a name="l00235"></a>00235     <a class="code" href="class_provider.html" title="Provider basic class.">Provider</a> *<a class="code" href="class_database_controller.html#a68c9a76f752cedf10eab274dba20cce3">getProviderByCNPJ</a>(QString cnpj);
<a name="l00236"></a>00236 
<a name="l00242"></a>00242     QList&lt;Provider*&gt; *<a class="code" href="class_database_controller.html#ab1f229dea327d0bf95b8dbe0992c77b3">getProviders</a>();
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <span class="comment">//================ PRODUCT CATEGORIES ===================</span>
<a name="l00251"></a>00251 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#af8818a55383bc6b4927c20088768ca09">productCategoryAlreadyExists</a>(QString name);
<a name="l00252"></a>00252 
<a name="l00259"></a>00259     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a02861c615a9e9f9d40986ee04703e2d9">createNewProductCategory</a>(<a class="code" href="class_product_category.html" title="Product category basic class.">ProductCategory</a> *productCategory);
<a name="l00260"></a>00260 
<a name="l00267"></a>00267     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a61bd3bc281f2f8c60ed6ace228f1d9d3">updateProductCategory</a>(<a class="code" href="class_product_category.html" title="Product category basic class.">ProductCategory</a> *productCategory);
<a name="l00268"></a>00268 
<a name="l00275"></a>00275     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a1ffc18354fd3435e67cedf1e38c6c010">removeProductCategory</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00276"></a>00276 
<a name="l00283"></a>00283     <a class="code" href="class_product_category.html" title="Product category basic class.">ProductCategory</a> *<a class="code" href="class_database_controller.html#a3a35e6d723b3e47fb6e6a12bb0408c4b">getProductCategoryById</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00284"></a>00284 
<a name="l00290"></a>00290     QList&lt;ProductCategory*&gt; *<a class="code" href="class_database_controller.html#ab657f783d27b7e113a8015d7dca0b90a">getProductCategories</a>();
<a name="l00291"></a>00291 
<a name="l00292"></a>00292     <span class="comment">//================ PRODUCTS ===================</span>
<a name="l00299"></a>00299 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a4e56ca88671780de9c8f34408de15fda">productAlreadyExists</a>(QString code);
<a name="l00300"></a>00300 
<a name="l00307"></a>00307     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a5ca316c830f686cc20cc61c7bd40bbb9">barCodeAlreadyExists</a>(QString barCode);
<a name="l00308"></a>00308 
<a name="l00315"></a>00315     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a60bffb7dbde15af30200e8c50d64936d">createNewProduct</a>(<a class="code" href="class_product.html" title="Product basic class.">Product</a> *product);
<a name="l00316"></a>00316 
<a name="l00324"></a>00324     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#af1afa55cfc341f31bd3918ecac6f534a">updateProduct</a>(QString code, <a class="code" href="class_product.html" title="Product basic class.">Product</a> *product);
<a name="l00325"></a>00325 
<a name="l00332"></a>00332     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a714940a2c00aabf5fc8c7a5c86aa2dd9">removeProduct</a>(QString code);
<a name="l00333"></a>00333 
<a name="l00340"></a>00340     <a class="code" href="class_product.html" title="Product basic class.">Product</a> *<a class="code" href="class_database_controller.html#ad6059dc18e8887203fe23ff63613ef78">getProductByCode</a>(QString code);
<a name="l00341"></a>00341 
<a name="l00347"></a>00347     QList&lt;Product*&gt; *<a class="code" href="class_database_controller.html#ae74f1211762753d8a99878b76ed17428">getProducts</a>();
<a name="l00348"></a>00348 
<a name="l00349"></a>00349     <span class="comment">//=========== ENTERPRISE CUSTOMERS =============</span>
<a name="l00356"></a>00356 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#af1d0f2de9e28eb26556299cc7781c95a">enterpriseCustomerAlreadyExists</a>(QString cnpj);
<a name="l00357"></a>00357 
<a name="l00364"></a>00364     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a2109030ee813e32e0b23f5116a23c53c">createNewEnterpriseCustomer</a>(<a class="code" href="class_enterprise_customer.html" title="EnterpriseCustomer basic class.">EnterpriseCustomer</a> *enterpriseCustomer);
<a name="l00365"></a>00365 
<a name="l00372"></a>00372     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a8c886cf20b33be6a16276890dc64a381">updateEnterpriseCustomer</a>(<a class="code" href="class_enterprise_customer.html" title="EnterpriseCustomer basic class.">EnterpriseCustomer</a> *enterpriseCustomer);
<a name="l00373"></a>00373 
<a name="l00380"></a>00380     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a2f08da87cc66bb03de3171131702cd81">removeEnterpriseCustomer</a>(QString cnpj);
<a name="l00381"></a>00381 
<a name="l00388"></a>00388     <a class="code" href="class_enterprise_customer.html" title="EnterpriseCustomer basic class.">EnterpriseCustomer</a> *<a class="code" href="class_database_controller.html#ae86cb1117c55766d63dcb9b99f0079a2">getEnterpriseCustomerByCNPJ</a>(QString cnpj);
<a name="l00389"></a>00389 
<a name="l00395"></a>00395     QList&lt;EnterpriseCustomer*&gt; *<a class="code" href="class_database_controller.html#a5fa00fca0d6f3bc624776d14ad9af382">getEnterpriseCustomers</a>();
<a name="l00396"></a>00396 
<a name="l00397"></a>00397     <span class="comment">//=========== PHYSICAL CUSTOMERS =============</span>
<a name="l00404"></a>00404 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#abdddf03f7380b3915392f9be39845740">physicalCustomerAlreadyExists</a>(QString cpf);
<a name="l00405"></a>00405 
<a name="l00412"></a>00412     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a5fe9d26cea506b3b657752aeabb290d4">createNewPhysicalCustomer</a>(<a class="code" href="class_physical_customer.html" title="PhysicalCustomer basic class.">PhysicalCustomer</a> *physicalCustomer);
<a name="l00413"></a>00413 
<a name="l00420"></a>00420     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a4a485c3dec3f6202bd6fe88e7f4a01c3">updatePhysicalCustomer</a>(<a class="code" href="class_physical_customer.html" title="PhysicalCustomer basic class.">PhysicalCustomer</a> *physicalCustomer);
<a name="l00421"></a>00421 
<a name="l00428"></a>00428     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a8b6873e12fc3fbe473f96d7b4b367fd8">removePhysicalCustomer</a>(QString cpf);
<a name="l00429"></a>00429 
<a name="l00436"></a>00436     <a class="code" href="class_physical_customer.html" title="PhysicalCustomer basic class.">PhysicalCustomer</a> *<a class="code" href="class_database_controller.html#a593862e3a00f8751ce2d0dc4ea13ba29">getPhysicalCustomerByCPF</a>(QString cpf);
<a name="l00437"></a>00437 
<a name="l00443"></a>00443     QList&lt;PhysicalCustomer*&gt; *<a class="code" href="class_database_controller.html#af63c735fd481762203ccd96f024d5842">getPhysicalCustomers</a>();
<a name="l00444"></a>00444 
<a name="l00445"></a>00445     <span class="comment">//================ STOCK UNITS ===================</span>
<a name="l00452"></a>00452 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a60e620723b648b5a830aa522225ccfad">stockUnitAlreadyExists</a>(QString name);
<a name="l00453"></a>00453 
<a name="l00460"></a>00460     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a38bb84c61c69283b06573226174bf20f">createNewStockUnit</a>(<a class="code" href="class_stock_unit.html" title="Stock Unit basic class.">StockUnit</a> *stockUnit);
<a name="l00461"></a>00461 
<a name="l00468"></a>00468     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a4e48353bf332493432458977bc41817f">updateStockUnit</a>(<a class="code" href="class_stock_unit.html" title="Stock Unit basic class.">StockUnit</a> *stockUnit);
<a name="l00469"></a>00469 
<a name="l00476"></a>00476     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a8314c6b66bf638f30fce689a2d2420ea">removeStockUnit</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00477"></a>00477 
<a name="l00484"></a>00484     <a class="code" href="class_stock_unit.html" title="Stock Unit basic class.">StockUnit</a> *<a class="code" href="class_database_controller.html#ae3008735fbd78dd2229f3e75e921df94">getStockUnitById</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00485"></a>00485 
<a name="l00491"></a>00491     QList&lt;StockUnit*&gt; *<a class="code" href="class_database_controller.html#ae9fbca4ab45505e7026985614d1f3b2b">getStockUnits</a>();
<a name="l00492"></a>00492 
<a name="l00493"></a>00493     <span class="comment">//================ PRODUCT ORIGINS ===================</span>
<a name="l00500"></a>00500 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#afce9c192908ddd82b5d86d380ad765c9">productOriginAlreadyExists</a>(QString code);
<a name="l00501"></a>00501 
<a name="l00508"></a>00508     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a1073c86d3d7dcc26cf8a38b03a9fda76">createNewProductOrigin</a>(<a class="code" href="class_product_origin.html" title="Product origin basic class.">ProductOrigin</a> *productOrigin);
<a name="l00509"></a>00509 
<a name="l00517"></a>00517     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a86974ac6f21f2429fb167f0d811e31e2">updateProductOrigin</a>(QString code, <a class="code" href="class_product_origin.html" title="Product origin basic class.">ProductOrigin</a> *productOrigin);
<a name="l00518"></a>00518 
<a name="l00525"></a>00525     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a9ae788eb6a00b517e2d093fa68197ebf">removeProductOrigin</a>(QString code);
<a name="l00526"></a>00526 
<a name="l00533"></a>00533     <a class="code" href="class_product_origin.html" title="Product origin basic class.">ProductOrigin</a> *<a class="code" href="class_database_controller.html#a8e584db9e45bc18c4c8f2c5e4170f654">getProductOriginByCode</a>(QString code);
<a name="l00534"></a>00534 
<a name="l00540"></a>00540     QList&lt;ProductOrigin*&gt; *<a class="code" href="class_database_controller.html#a4591da28f8eed152a84271e76e28d493">getProductOrigins</a>();
<a name="l00541"></a>00541 
<a name="l00542"></a>00542     <span class="comment">//================ CST ICMS ===================</span>
<a name="l00549"></a>00549 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#acd947c01fd1478dd7938b68229811e08">cstIcmsAlreadyExists</a>(QString code);
<a name="l00550"></a>00550 
<a name="l00557"></a>00557     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a686d0968468e51b698017b8d9e767b49">createNewCstIcms</a>(<a class="code" href="class_cst_icms.html" title="Cst Icms basic class.">CstIcms</a> *cstIcms);
<a name="l00558"></a>00558 
<a name="l00566"></a>00566     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#ae71d405e6bbff28a53f44d1919589a5f">updateCstIcms</a>(QString code, <a class="code" href="class_cst_icms.html" title="Cst Icms basic class.">CstIcms</a> *cstIcms);
<a name="l00567"></a>00567 
<a name="l00574"></a>00574     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a167550ee1bf1f223b97736fac20ebdba">removeCstIcms</a>(QString code);
<a name="l00575"></a>00575 
<a name="l00582"></a>00582     <a class="code" href="class_cst_icms.html" title="Cst Icms basic class.">CstIcms</a> *<a class="code" href="class_database_controller.html#a634d59dab209c83925f224f579682cd4">getCstIcmsByCode</a>(QString code);
<a name="l00583"></a>00583 
<a name="l00589"></a>00589     QList&lt;CstIcms*&gt; *<a class="code" href="class_database_controller.html#ad2e597e343d29b5611a3597eed179433">getCstIcmss</a>();
<a name="l00590"></a>00590 
<a name="l00591"></a>00591     <span class="comment">//================ CST IPI ===================</span>
<a name="l00598"></a>00598 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a7b4b39b7eff7597fb48ef8c7db8bc0c0">cstIpiAlreadyExists</a>(QString code);
<a name="l00599"></a>00599 
<a name="l00606"></a>00606     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a10d89cd12f08d7f1644ac5f1ae259db4">createNewCstIpi</a>(<a class="code" href="class_cst_ipi.html" title="Cst Ipi basic class.">CstIpi</a> *cstIpi);
<a name="l00607"></a>00607 
<a name="l00615"></a>00615     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a52ae322bc6022baa4f84a4d7f329cc9b">updateCstIpi</a>(QString code, <a class="code" href="class_cst_ipi.html" title="Cst Ipi basic class.">CstIpi</a> *cstIpi);
<a name="l00616"></a>00616 
<a name="l00623"></a>00623     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a37a2ce12d280a43572784236dc1b9eaa">removeCstIpi</a>(QString code);
<a name="l00624"></a>00624 
<a name="l00631"></a>00631     <a class="code" href="class_cst_ipi.html" title="Cst Ipi basic class.">CstIpi</a> *<a class="code" href="class_database_controller.html#a10892f7e7b63d2257bf2461707dc9c4b">getCstIpiByCode</a>(QString code);
<a name="l00632"></a>00632 
<a name="l00638"></a>00638     QList&lt;CstIpi*&gt; *<a class="code" href="class_database_controller.html#a1aa4959d26014bef2bb6798ae413f16e">getCstIpis</a>();
<a name="l00639"></a>00639 
<a name="l00640"></a>00640     <span class="comment">//================ CST PIS ===================</span>
<a name="l00647"></a>00647 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#ad98d37e6b16e0eab7a8a4cde455c21db">cstPisAlreadyExists</a>(QString code);
<a name="l00648"></a>00648 
<a name="l00655"></a>00655     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a3715e2288761e2337328ec4aabd464fd">createNewCstPis</a>(<a class="code" href="class_cst_pis.html" title="Cst Pis basic class.">CstPis</a> *cstPis);
<a name="l00656"></a>00656 
<a name="l00664"></a>00664     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a01466e11cad8792c3a6aaca2786f7d9e">updateCstPis</a>(QString code, <a class="code" href="class_cst_pis.html" title="Cst Pis basic class.">CstPis</a> *cstPis);
<a name="l00665"></a>00665 
<a name="l00672"></a>00672     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#aed50b995f598acd86fb69d1b69b4575d">removeCstPis</a>(QString code);
<a name="l00673"></a>00673 
<a name="l00680"></a>00680     <a class="code" href="class_cst_pis.html" title="Cst Pis basic class.">CstPis</a> *<a class="code" href="class_database_controller.html#a088a17f504e8e92aaa54ce5af0f9e19c">getCstPisByCode</a>(QString code);
<a name="l00681"></a>00681 
<a name="l00687"></a>00687     QList&lt;CstPis*&gt; *<a class="code" href="class_database_controller.html#ab87b0573ddcb82a3412126fe7eaf318f">getCstPiss</a>();
<a name="l00688"></a>00688 
<a name="l00689"></a>00689     <span class="comment">//================ CST COFINS ===================</span>
<a name="l00696"></a>00696 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#ac07a39fb27350ca7b006e2edf3483936">cstCofinsAlreadyExists</a>(QString code);
<a name="l00697"></a>00697 
<a name="l00704"></a>00704     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a97c4e322edc3a80071c52566b54adcf8">createNewCstCofins</a>(<a class="code" href="class_cst_cofins.html" title="Cst Cofins basic class.">CstCofins</a> *cstCofins);
<a name="l00705"></a>00705 
<a name="l00713"></a>00713     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a5c4a3e170632556c0ab76238c60a9815">updateCstCofins</a>(QString code, <a class="code" href="class_cst_cofins.html" title="Cst Cofins basic class.">CstCofins</a> *cstCofins);
<a name="l00714"></a>00714 
<a name="l00721"></a>00721     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a9926d742e99cb82a0b45b70e120c3116">removeCstCofins</a>(QString code);
<a name="l00722"></a>00722 
<a name="l00729"></a>00729     <a class="code" href="class_cst_cofins.html" title="Cst Cofins basic class.">CstCofins</a> *<a class="code" href="class_database_controller.html#a83fa5494eac66bd00e1eb3899103e2a5">getCstCofinsByCode</a>(QString code);
<a name="l00730"></a>00730 
<a name="l00736"></a>00736     QList&lt;CstCofins*&gt; *<a class="code" href="class_database_controller.html#aa63f4379ede870c58dbbe64066ada4e2">getCstCofinss</a>();
<a name="l00737"></a>00737 
<a name="l00738"></a>00738     <span class="comment">//================ TAX RATES ===================</span>
<a name="l00745"></a>00745 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#af0baf47f127cc9f3d8f3a8276e915684">taxRateAlreadyExists</a>(QString name);
<a name="l00746"></a>00746 
<a name="l00753"></a>00753     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#aa86120d9f2362e0d402b90d04eb09c3c">createNewTaxRate</a>(<a class="code" href="class_tax_rate.html" title="Tax Rate basic class.">TaxRate</a> *taxRate);
<a name="l00754"></a>00754 
<a name="l00762"></a>00762     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a3a2e150b585b20e66949a7d2921aef96">updateTaxRate</a>(QString name, <a class="code" href="class_tax_rate.html" title="Tax Rate basic class.">TaxRate</a> *taxRate);
<a name="l00763"></a>00763 
<a name="l00770"></a>00770     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a4f5935fdd1501cf15f5e4c6a52c0d922">removeTaxRate</a>(QString name);
<a name="l00771"></a>00771 
<a name="l00778"></a>00778     <a class="code" href="class_tax_rate.html" title="Tax Rate basic class.">TaxRate</a> *<a class="code" href="class_database_controller.html#ae177eee22180277701b0615d134d98a1">getTaxRateByName</a>(QString name);
<a name="l00779"></a>00779 
<a name="l00785"></a>00785     QList&lt;TaxRate*&gt; *<a class="code" href="class_database_controller.html#ad33d2490b8cedf288552dda19aa6bbcc">getTaxRates</a>();
<a name="l00786"></a>00786 
<a name="l00787"></a>00787     <span class="comment">//================ CFOP ===================</span>
<a name="l00794"></a>00794 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a526c1329c00039eb2ce56ff3290baa74">cfopAlreadyExists</a>(QString cfop);
<a name="l00795"></a>00795 
<a name="l00802"></a>00802     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a5ec7415cc7cdc1e6d617d1d455ce408b">createNewCfop</a>(<a class="code" href="class_cfop.html" title="CFOP basic class.">Cfop</a> *cfopObj);
<a name="l00803"></a>00803 
<a name="l00811"></a>00811     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a57e9e36d56eaa86f7efbb4956ec0c244">updateCfop</a>(QString cfop, <a class="code" href="class_cfop.html" title="CFOP basic class.">Cfop</a> *cfopObj);
<a name="l00812"></a>00812 
<a name="l00819"></a>00819     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a4ad9ec00c42e3ef48d6512fb575524d3">removeCfop</a>(QString cfop);
<a name="l00820"></a>00820 
<a name="l00827"></a>00827     <a class="code" href="class_cfop.html" title="CFOP basic class.">Cfop</a> *<a class="code" href="class_database_controller.html#a17d113832dafecc3a602e35da5abc78e">getCfopByCfop</a>(QString cfop);
<a name="l00828"></a>00828 
<a name="l00834"></a>00834     QList&lt;Cfop*&gt; *<a class="code" href="class_database_controller.html#a38c3b74cbaad4394c402a33aa1d787fd">getCfops</a>();
<a name="l00835"></a>00835 
<a name="l00836"></a>00836     <span class="comment">//================ PRICE ===================</span>
<a name="l00844"></a>00844 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a095ef9a6e7ee6144305e0e9ecff3bd11">priceAlreadyExists</a>(QString productCode, QString storeCnpj);
<a name="l00845"></a>00845 
<a name="l00852"></a>00852     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#ad565afaed244bca1b8bce14aa9ad56b8">priceNameAlreadyExists</a>(QString name);
<a name="l00853"></a>00853 
<a name="l00860"></a>00860     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#ab62daba7d86d94d34e30350a22808199">createNewPrice</a>(<a class="code" href="class_price.html" title="Price basic class.">Price</a> *price);
<a name="l00861"></a>00861 
<a name="l00868"></a>00868     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#aa095a494ed6be37b294fb813cee905c5">updatePrice</a>(<a class="code" href="class_price.html" title="Price basic class.">Price</a> *price);
<a name="l00869"></a>00869 
<a name="l00876"></a>00876     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a827f4fa829550a150511cc135534150d">removePrice</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00877"></a>00877 
<a name="l00884"></a>00884     <a class="code" href="class_price.html" title="Price basic class.">Price</a> *<a class="code" href="class_database_controller.html#a32192b0edeea17ef7697dc4c651d4797">getPriceById</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00885"></a>00885 
<a name="l00892"></a>00892     <a class="code" href="class_price.html" title="Price basic class.">Price</a> *<a class="code" href="class_database_controller.html#a684a5e27222954a049486e0920efac43">getPriceByName</a>(QString name);
<a name="l00893"></a>00893 
<a name="l00899"></a>00899     QList&lt;Price*&gt; *<a class="code" href="class_database_controller.html#aa337a2b4584aa7075062ed2c3b228368">getPrices</a>();
<a name="l00900"></a>00900 
<a name="l00901"></a>00901     <span class="comment">//=========== STORES =============</span>
<a name="l00908"></a>00908 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a245f62a19f0781a5dcdcc6fd8ca0b758">storeAlreadyExists</a>(QString cnpj);
<a name="l00909"></a>00909 
<a name="l00916"></a>00916     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a3049c420c83a5c7917e929a2f7e77174">createNewStore</a>(<a class="code" href="class_store.html" title="Store basic class.">Store</a> *store);
<a name="l00917"></a>00917 
<a name="l00924"></a>00924     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a9ad06463ea90c1e89914a73dc678d5dc">updateStore</a>(<a class="code" href="class_store.html" title="Store basic class.">Store</a> *store);
<a name="l00925"></a>00925 
<a name="l00932"></a>00932     <span class="keywordtype">bool</span> <a class="code" href="class_database_controller.html#a0d1b5746b43a69f7579c6b36fcbe8da1">removeStore</a>(QString cnpj);
<a name="l00933"></a>00933 
<a name="l00940"></a>00940     <a class="code" href="class_store.html" title="Store basic class.">Store</a> *<a class="code" href="class_database_controller.html#ad7f3a9f62b39d9fe169ed75164d135f7">getStoreByCNPJ</a>(QString cnpj);
<a name="l00941"></a>00941 
<a name="l00947"></a>00947     QList&lt;Store*&gt; *<a class="code" href="class_database_controller.html#aebafb03238320dd3374924ff60784df3">getStores</a>();
<a name="l00948"></a>00948 
<a name="l00949"></a>00949 <span class="keyword">protected</span>:
<a name="l00950"></a>00950 
<a name="l00952"></a>00952 
<a name="l00955"></a>00955     <span class="keyword">explicit</span> <a class="code" href="class_database_controller.html#a055f05ef8c794f4e3569cbd8e1294fa5" title="Default constructor.">DatabaseController</a>(QObject *parent = 0);
<a name="l00956"></a>00956 
<a name="l00957"></a>00957 <span class="keyword">private</span>:
<a name="l00958"></a>00958 
<a name="l00959"></a>00959     <span class="keywordtype">void</span> defineDefaultStore();
<a name="l00960"></a>00960 
<a name="l00965"></a>00965     QString readDBConfig();
<a name="l00966"></a>00966 
<a name="l00968"></a>00968 
<a name="l00971"></a>00971     <span class="keyword">static</span> <a class="code" href="class_database_controller.html" title="Controller for database.">DatabaseController</a> *pInstance;
<a name="l00972"></a>00972 
<a name="l00973"></a>00973 <span class="preprocessor">#ifdef DB_POSTGRESQL</span>
<a name="l00974"></a>00974 <span class="preprocessor"></span>    PGconn *con;
<a name="l00975"></a>00975 <span class="preprocessor">#endif</span>
<a name="l00976"></a>00976 <span class="preprocessor"></span>    <span class="keywordtype">bool</span> conOpen;
<a name="l00977"></a>00977     <a class="code" href="class_store.html" title="Store basic class.">Store</a> *defaultStore;
<a name="l00978"></a>00978 
<a name="l00979"></a>00979 signals:
<a name="l00980"></a>00980 
<a name="l00981"></a>00981 <span class="keyword">public</span> slots:
<a name="l00982"></a>00982 
<a name="l00983"></a>00983 };
<a name="l00984"></a>00984 
<a name="l00985"></a>00985 <span class="preprocessor">#endif // DATABASECONTROLLER_H</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 27 2012 16:56:52 for ERPRock by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
