<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ERPRock: /Users/rdal/Development/ERPRock/trunk/View/Customers/customerslistview.cpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ERPRock
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">/Users/rdal/Development/ERPRock/trunk/View/Customers/customerslistview.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;customerslistview.h&quot;</span>
<a name="l00002"></a>00002 <span class="preprocessor">#include &quot;ui_customerslistview.h&quot;</span>
<a name="l00003"></a>00003 <span class="preprocessor">#include &lt;QMessageBox&gt;</span>
<a name="l00004"></a>00004 
<a name="l00005"></a><a class="code" href="class_customers_list_view.html#a1f4a38b73d379c2b4cfe5f1be5a28e70">00005</a> <a class="code" href="class_customers_list_view.html#a1f4a38b73d379c2b4cfe5f1be5a28e70" title="Default constructor.">CustomersListView::CustomersListView</a>(QWidget *parent) :
<a name="l00006"></a>00006     QWidget(parent),
<a name="l00007"></a>00007     ui(new Ui::<a class="code" href="class_customers_list_view.html" title="View for adding/updating customers.">CustomersListView</a>)
<a name="l00008"></a>00008 {
<a name="l00009"></a>00009     ui-&gt;setupUi(<span class="keyword">this</span>);
<a name="l00010"></a>00010 
<a name="l00011"></a>00011     connect(ui-&gt;addEnterpriseCustomerPushButton, SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_customers_list_view.html#aab89c6bea432c766951120c8f7c28034" title="Add new enterprise customer.">onAddNewEnterpriseCustomer</a>()));
<a name="l00012"></a>00012     connect(ui-&gt;editEnterpriseCustomerPushButton, SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_customers_list_view.html#aabca2b40633c712584299bad5b8be736" title="Edit enterprise customer.">onEditEnterpriseCustomer</a>()));
<a name="l00013"></a>00013     connect(ui-&gt;removeEnterpriseCustomerPushButton, SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_customers_list_view.html#a5bdf9b2bda1c3bec0050f5435339d015" title="Remove enterprise customer.">onRemoveEnterpriseCustomer</a>()));
<a name="l00014"></a>00014 
<a name="l00015"></a>00015     connect(ui-&gt;addPhysicalCustomerPushButton, SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_customers_list_view.html#a6ae9fcbdc916c7ba7f664b5f79514f36" title="Add new physical customer.">onAddNewPhysicalCustomer</a>()));
<a name="l00016"></a>00016     connect(ui-&gt;editPhysicalCustomerPushButton, SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_customers_list_view.html#a3d36e95d829f6fb561c85d6130d1f83a" title="Edit physical customer.">onEditPhysicalCustomer</a>()));
<a name="l00017"></a>00017     connect(ui-&gt;removePhysicalCustomerPushButton, SIGNAL(released()), <span class="keyword">this</span>, SLOT(<a class="code" href="class_customers_list_view.html#ac48c5529fed3eefce5b955a92a90ba91" title="Remove physical customer.">onRemovePhysicalCustomer</a>()));
<a name="l00018"></a>00018 
<a name="l00019"></a>00019     customerController = <span class="keyword">new</span> <a class="code" href="class_customer_controller.html" title="Controller for customers.">CustomerController</a>();
<a name="l00020"></a>00020     <a class="code" href="class_customers_list_view.html#a6c897807aca7f2619113118304f294ea" title="List all enterprise customers.">listEnterpriseCustomers</a>();
<a name="l00021"></a>00021     <a class="code" href="class_customers_list_view.html#a3ba6b233680482495c767d0720b0c241" title="List all physical customers.">listPhysicalCustomers</a>();
<a name="l00022"></a>00022 }
<a name="l00023"></a>00023 
<a name="l00024"></a><a class="code" href="class_customers_list_view.html#a26a72e4e48eb230ae76881ad83cb1012">00024</a> <a class="code" href="class_customers_list_view.html#a26a72e4e48eb230ae76881ad83cb1012" title="Destructor.">CustomersListView::~CustomersListView</a>()
<a name="l00025"></a>00025 {
<a name="l00026"></a>00026     <span class="keyword">delete</span> ui;
<a name="l00027"></a>00027 
<a name="l00028"></a>00028     <span class="keyword">delete</span> customerController;
<a name="l00029"></a>00029 }
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="class_customers_list_view.html#a0e4c69780c292aa34a30e2ed873ce8f5">00031</a> <span class="keywordtype">void</span> <a class="code" href="class_customers_list_view.html#a0e4c69780c292aa34a30e2ed873ce8f5">CustomersListView::setParentMainWindow</a>(<a class="code" href="class_i_main_window.html" title="Main Window Interface.">IMainWindow</a> *parentMainWindow)
<a name="l00032"></a>00032 {
<a name="l00033"></a>00033     this-&gt;parentMainWindow = parentMainWindow;
<a name="l00034"></a>00034 }
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="class_customers_list_view.html#a6c897807aca7f2619113118304f294ea">00036</a> <span class="keywordtype">void</span> <a class="code" href="class_customers_list_view.html#a6c897807aca7f2619113118304f294ea" title="List all enterprise customers.">CustomersListView::listEnterpriseCustomers</a>()
<a name="l00037"></a>00037 {
<a name="l00038"></a>00038     QList&lt;EnterpriseCustomer*&gt; *enterpriseCustomers = customerController-&gt;<a class="code" href="class_customer_controller.html#a21ab13374e23b22255ebf1a8d9744269">getEnterpriseCustomers</a>();
<a name="l00039"></a>00039 
<a name="l00040"></a>00040     <span class="keywordtype">int</span> count = enterpriseCustomers-&gt;count();
<a name="l00041"></a>00041     ui-&gt;enterpriseCustomerTableWidget-&gt;clearContents();
<a name="l00042"></a>00042     ui-&gt;enterpriseCustomerTableWidget-&gt;setRowCount(count);
<a name="l00043"></a>00043     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;count; i++)
<a name="l00044"></a>00044     {
<a name="l00045"></a>00045         <a class="code" href="class_enterprise_customer.html" title="EnterpriseCustomer basic class.">EnterpriseCustomer</a> *enterpriseCustomer = enterpriseCustomers-&gt;at(i);
<a name="l00046"></a>00046         QTableWidgetItem *verticalHeader = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00047"></a>00047         ui-&gt;enterpriseCustomerTableWidget-&gt;setVerticalHeaderItem(i, verticalHeader);
<a name="l00048"></a>00048 
<a name="l00049"></a>00049         <span class="comment">// CNPJ</span>
<a name="l00050"></a>00050         QTableWidgetItem *cnpjItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00051"></a>00051         QString cnpjItemValue = enterpriseCustomer-&gt;<a class="code" href="class_enterprise_customer.html#a33751b5bbfd10d1e8476a8ec352a9455" title="Get enterprise customer&#39;s cnpj.">getCnpj</a>();
<a name="l00052"></a>00052         cnpjItem-&gt;setText(cnpjItemValue);
<a name="l00053"></a>00053         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 0, cnpjItem);
<a name="l00054"></a>00054 
<a name="l00055"></a>00055         <span class="comment">// State Number</span>
<a name="l00056"></a>00056         QTableWidgetItem *stateNumberItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00057"></a>00057         QString stateNumberItemValue = enterpriseCustomer-&gt;<a class="code" href="class_enterprise_customer.html#a5513db274ebf2bc0c2f17b311161534f" title="Get enterprise customer&#39;s state number.">getStateNumber</a>();
<a name="l00058"></a>00058         stateNumberItem-&gt;setText(stateNumberItemValue);
<a name="l00059"></a>00059         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 1, stateNumberItem);
<a name="l00060"></a>00060 
<a name="l00061"></a>00061         <span class="comment">// Name</span>
<a name="l00062"></a>00062         QTableWidgetItem *nameItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00063"></a>00063         QString nameItemValue = enterpriseCustomer-&gt;<a class="code" href="class_customer.html#a4b4a5ec2275f5253357679d99b533eeb" title="Get customer&#39;s Name.">getName</a>();
<a name="l00064"></a>00064         nameItem-&gt;setText(nameItemValue);
<a name="l00065"></a>00065         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 2, nameItem);
<a name="l00066"></a>00066 
<a name="l00067"></a>00067         <span class="comment">// Fantasy Name</span>
<a name="l00068"></a>00068         QTableWidgetItem *fantasyNameItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00069"></a>00069         QString fantasyNameItemValue = enterpriseCustomer-&gt;<a class="code" href="class_enterprise_customer.html#a98eea6072ec2cba07245c322e30a2190" title="Get enterprise customer&#39;s fantasy name.">getFantasyName</a>();
<a name="l00070"></a>00070         fantasyNameItem-&gt;setText(fantasyNameItemValue);
<a name="l00071"></a>00071         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 3, fantasyNameItem);
<a name="l00072"></a>00072 
<a name="l00073"></a>00073         <span class="comment">// Phone Number</span>
<a name="l00074"></a>00074         QTableWidgetItem *phoneNumberItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00075"></a>00075         QString phoneNumberItemValue = enterpriseCustomer-&gt;<a class="code" href="class_customer.html#a46d6eadaa8798504ea663bde4cac2282" title="Get customer&#39;s Fantasy Name.">getPhoneNumber</a>();
<a name="l00076"></a>00076         phoneNumberItem-&gt;setText(phoneNumberItemValue);
<a name="l00077"></a>00077         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 4, phoneNumberItem);
<a name="l00078"></a>00078 
<a name="l00079"></a>00079         <span class="comment">// Fax Number</span>
<a name="l00080"></a>00080         QTableWidgetItem *faxNumberItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00081"></a>00081         QString faxNumberItemValue = enterpriseCustomer-&gt;<a class="code" href="class_enterprise_customer.html#a24e8d8c1e8c637f167261703141be621" title="Get enterprise customer&#39;s fax number.">getFaxNumber</a>();
<a name="l00082"></a>00082         faxNumberItem-&gt;setText(faxNumberItemValue);
<a name="l00083"></a>00083         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 5, faxNumberItem);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085         <span class="comment">// Contact Name</span>
<a name="l00086"></a>00086         QTableWidgetItem *contactNameItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00087"></a>00087         QString contactNameItemValue = enterpriseCustomer-&gt;<a class="code" href="class_enterprise_customer.html#af43a97879335afbe22098ce62ddc2ca4" title="Get enterprise customer&#39;s contact name.">getContactName</a>();
<a name="l00088"></a>00088         contactNameItem-&gt;setText(contactNameItemValue);
<a name="l00089"></a>00089         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 6, contactNameItem);
<a name="l00090"></a>00090 
<a name="l00091"></a>00091         <span class="comment">// Email</span>
<a name="l00092"></a>00092         QTableWidgetItem *emailItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00093"></a>00093         QString emailItemValue = enterpriseCustomer-&gt;<a class="code" href="class_customer.html#a8a739fb0a4d92fc4e653428635583dd0" title="Get customer&#39;s Email.">getEmail</a>();
<a name="l00094"></a>00094         emailItem-&gt;setText(emailItemValue);
<a name="l00095"></a>00095         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 7, emailItem);
<a name="l00096"></a>00096 
<a name="l00097"></a>00097         <span class="comment">// Address Street</span>
<a name="l00098"></a>00098         QTableWidgetItem *addressStreetItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00099"></a>00099         QString addressStreetItemValue = enterpriseCustomer-&gt;<a class="code" href="class_customer.html#a45c175338a465893df0afca1a2b66a0c" title="Get customer&#39;s Address Street.">getAddressStreet</a>();
<a name="l00100"></a>00100         addressStreetItem-&gt;setText(addressStreetItemValue);
<a name="l00101"></a>00101         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 8, addressStreetItem);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103         <span class="comment">// Address Number</span>
<a name="l00104"></a>00104         QTableWidgetItem *addressNumberItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00105"></a>00105         <span class="keywordtype">int</span> addressNumberItemValue = enterpriseCustomer-&gt;<a class="code" href="class_customer.html#a4aebded79b3a48cf72639a7ace1a1358" title="Get customer&#39;s Address Number.">getAddressNumber</a>();
<a name="l00106"></a>00106         addressNumberItem-&gt;setText(QString::number(addressNumberItemValue));
<a name="l00107"></a>00107         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 9, addressNumberItem);
<a name="l00108"></a>00108 
<a name="l00109"></a>00109         <span class="comment">// Address Complement</span>
<a name="l00110"></a>00110         QTableWidgetItem *addressComplementItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00111"></a>00111         QString addressComplementItemValue = enterpriseCustomer-&gt;<a class="code" href="class_customer.html#ae52c439ce4460961f33698a2cc3696a0" title="Get customer&#39;s Address Complement.">getAddressComplement</a>();
<a name="l00112"></a>00112         addressComplementItem-&gt;setText(addressComplementItemValue);
<a name="l00113"></a>00113         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 10, addressComplementItem);
<a name="l00114"></a>00114 
<a name="l00115"></a>00115         <span class="comment">// Address Square</span>
<a name="l00116"></a>00116         QTableWidgetItem *addressSquareItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00117"></a>00117         QString addressSquareItemValue = enterpriseCustomer-&gt;<a class="code" href="class_customer.html#a0b093c97bf9806a889f766af1fe9c080" title="Get customer&#39;s Address Square.">getAddressSquare</a>();
<a name="l00118"></a>00118         addressSquareItem-&gt;setText(addressSquareItemValue);
<a name="l00119"></a>00119         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 11, addressSquareItem);
<a name="l00120"></a>00120 
<a name="l00121"></a>00121         <span class="comment">// Address City</span>
<a name="l00122"></a>00122         QTableWidgetItem *addressCityItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00123"></a>00123         QString addressCityItemValue = enterpriseCustomer-&gt;<a class="code" href="class_customer.html#aedcfe4356c45ba6472ff0d4f4641af74" title="Get customer&#39;s Address City.">getAddressCity</a>();
<a name="l00124"></a>00124         addressCityItem-&gt;setText(addressCityItemValue);
<a name="l00125"></a>00125         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 12, addressCityItem);
<a name="l00126"></a>00126 
<a name="l00127"></a>00127         <span class="comment">// Address State</span>
<a name="l00128"></a>00128         QTableWidgetItem *addressStateItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00129"></a>00129         QString addressStateItemValue = enterpriseCustomer-&gt;<a class="code" href="class_customer.html#a518f253a85d497a7e6d29ed5889d4af9" title="Get customer&#39;s Address State.">getAddressState</a>();
<a name="l00130"></a>00130         addressStateItem-&gt;setText(addressStateItemValue);
<a name="l00131"></a>00131         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 13, addressStateItem);
<a name="l00132"></a>00132 
<a name="l00133"></a>00133         <span class="comment">// Address Postal Code</span>
<a name="l00134"></a>00134         QTableWidgetItem *addressPostalCodeItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00135"></a>00135         QString addressPostalCodeItemValue = enterpriseCustomer-&gt;<a class="code" href="class_customer.html#a3ecaaa7883c982fb2d34e38879ce3176" title="Get customer&#39;s Address Postal Code.">getAddressPostalCode</a>();
<a name="l00136"></a>00136         addressPostalCodeItem-&gt;setText(addressPostalCodeItemValue);
<a name="l00137"></a>00137         ui-&gt;enterpriseCustomerTableWidget-&gt;setItem(i, 14, addressPostalCodeItem);
<a name="l00138"></a>00138     }
<a name="l00139"></a>00139 
<a name="l00140"></a>00140     ui-&gt;enterpriseCustomerTableWidget-&gt;resizeColumnsToContents();
<a name="l00141"></a>00141     ui-&gt;enterpriseCustomerTableWidget-&gt;selectRow(0);
<a name="l00142"></a>00142 }
<a name="l00143"></a>00143 
<a name="l00144"></a><a class="code" href="class_customers_list_view.html#a3ba6b233680482495c767d0720b0c241">00144</a> <span class="keywordtype">void</span> <a class="code" href="class_customers_list_view.html#a3ba6b233680482495c767d0720b0c241" title="List all physical customers.">CustomersListView::listPhysicalCustomers</a>()
<a name="l00145"></a>00145 {
<a name="l00146"></a>00146     QList&lt;PhysicalCustomer*&gt; *physicalCustomers = customerController-&gt;<a class="code" href="class_customer_controller.html#a58e27ba08ab7c039d346f6e533fddfd7">getPhysicalCustomers</a>();
<a name="l00147"></a>00147 
<a name="l00148"></a>00148     <span class="keywordtype">int</span> count = physicalCustomers-&gt;count();
<a name="l00149"></a>00149     ui-&gt;physicalCustomerTableWidget-&gt;clearContents();
<a name="l00150"></a>00150     ui-&gt;physicalCustomerTableWidget-&gt;setRowCount(count);
<a name="l00151"></a>00151     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;count; i++)
<a name="l00152"></a>00152     {
<a name="l00153"></a>00153         <a class="code" href="class_physical_customer.html" title="PhysicalCustomer basic class.">PhysicalCustomer</a> *physicalCustomer = physicalCustomers-&gt;at(i);
<a name="l00154"></a>00154         QTableWidgetItem *verticalHeader = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00155"></a>00155         ui-&gt;physicalCustomerTableWidget-&gt;setVerticalHeaderItem(i, verticalHeader);
<a name="l00156"></a>00156 
<a name="l00157"></a>00157         <span class="comment">// CPF</span>
<a name="l00158"></a>00158         QTableWidgetItem *cpfItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00159"></a>00159         QString cpfItemValue = physicalCustomer-&gt;<a class="code" href="class_physical_customer.html#a573e7b6f2be5c56e8c884874e4d59f6c" title="Get physical customer&#39;s cpf.">getCpf</a>();
<a name="l00160"></a>00160         cpfItem-&gt;setText(cpfItemValue);
<a name="l00161"></a>00161         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 0, cpfItem);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163         <span class="comment">// Name</span>
<a name="l00164"></a>00164         QTableWidgetItem *nameItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00165"></a>00165         QString nameItemValue = physicalCustomer-&gt;<a class="code" href="class_customer.html#a4b4a5ec2275f5253357679d99b533eeb" title="Get customer&#39;s Name.">getName</a>();
<a name="l00166"></a>00166         nameItem-&gt;setText(nameItemValue);
<a name="l00167"></a>00167         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 1, nameItem);
<a name="l00168"></a>00168 
<a name="l00169"></a>00169         <span class="comment">// Birth Date</span>
<a name="l00170"></a>00170         QTableWidgetItem *birthDateItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00171"></a>00171         QDateTime birthDateItemValue = physicalCustomer-&gt;<a class="code" href="class_physical_customer.html#ac430e8c4b009aa13d762aefb36d44f30" title="Get physical customer&#39;s birth date.">getBirthDate</a>();
<a name="l00172"></a>00172         birthDateItem-&gt;setText(birthDateItemValue.toString(<a class="code" href="class_physical_customer.html#a1aadc9fd1fde92bdadddd8853beb7d74">PhysicalCustomer::DATE_FORMAT</a>));
<a name="l00173"></a>00173         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 2, birthDateItem);
<a name="l00174"></a>00174 
<a name="l00175"></a>00175         <span class="comment">// Phone Number</span>
<a name="l00176"></a>00176         QTableWidgetItem *phoneNumberItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00177"></a>00177         QString phoneNumberItemValue = physicalCustomer-&gt;<a class="code" href="class_customer.html#a46d6eadaa8798504ea663bde4cac2282" title="Get customer&#39;s Fantasy Name.">getPhoneNumber</a>();
<a name="l00178"></a>00178         phoneNumberItem-&gt;setText(phoneNumberItemValue);
<a name="l00179"></a>00179         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 3, phoneNumberItem);
<a name="l00180"></a>00180 
<a name="l00181"></a>00181         <span class="comment">// Email</span>
<a name="l00182"></a>00182         QTableWidgetItem *emailItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00183"></a>00183         QString emailItemValue = physicalCustomer-&gt;<a class="code" href="class_customer.html#a8a739fb0a4d92fc4e653428635583dd0" title="Get customer&#39;s Email.">getEmail</a>();
<a name="l00184"></a>00184         emailItem-&gt;setText(emailItemValue);
<a name="l00185"></a>00185         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 4, emailItem);
<a name="l00186"></a>00186 
<a name="l00187"></a>00187         <span class="comment">// Address Street</span>
<a name="l00188"></a>00188         QTableWidgetItem *addressStreetItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00189"></a>00189         QString addressStreetItemValue = physicalCustomer-&gt;<a class="code" href="class_customer.html#a45c175338a465893df0afca1a2b66a0c" title="Get customer&#39;s Address Street.">getAddressStreet</a>();
<a name="l00190"></a>00190         addressStreetItem-&gt;setText(addressStreetItemValue);
<a name="l00191"></a>00191         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 5, addressStreetItem);
<a name="l00192"></a>00192 
<a name="l00193"></a>00193         <span class="comment">// Address Number</span>
<a name="l00194"></a>00194         QTableWidgetItem *addressNumberItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00195"></a>00195         <span class="keywordtype">int</span> addressNumberItemValue = physicalCustomer-&gt;<a class="code" href="class_customer.html#a4aebded79b3a48cf72639a7ace1a1358" title="Get customer&#39;s Address Number.">getAddressNumber</a>();
<a name="l00196"></a>00196         addressNumberItem-&gt;setText(QString::number(addressNumberItemValue));
<a name="l00197"></a>00197         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 6, addressNumberItem);
<a name="l00198"></a>00198 
<a name="l00199"></a>00199         <span class="comment">// Address Complement</span>
<a name="l00200"></a>00200         QTableWidgetItem *addressComplementItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00201"></a>00201         QString addressComplementItemValue = physicalCustomer-&gt;<a class="code" href="class_customer.html#ae52c439ce4460961f33698a2cc3696a0" title="Get customer&#39;s Address Complement.">getAddressComplement</a>();
<a name="l00202"></a>00202         addressComplementItem-&gt;setText(addressComplementItemValue);
<a name="l00203"></a>00203         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 7, addressComplementItem);
<a name="l00204"></a>00204 
<a name="l00205"></a>00205         <span class="comment">// Address Square</span>
<a name="l00206"></a>00206         QTableWidgetItem *addressSquareItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00207"></a>00207         QString addressSquareItemValue = physicalCustomer-&gt;<a class="code" href="class_customer.html#a0b093c97bf9806a889f766af1fe9c080" title="Get customer&#39;s Address Square.">getAddressSquare</a>();
<a name="l00208"></a>00208         addressSquareItem-&gt;setText(addressSquareItemValue);
<a name="l00209"></a>00209         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 8, addressSquareItem);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211         <span class="comment">// Address City</span>
<a name="l00212"></a>00212         QTableWidgetItem *addressCityItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00213"></a>00213         QString addressCityItemValue = physicalCustomer-&gt;<a class="code" href="class_customer.html#aedcfe4356c45ba6472ff0d4f4641af74" title="Get customer&#39;s Address City.">getAddressCity</a>();
<a name="l00214"></a>00214         addressCityItem-&gt;setText(addressCityItemValue);
<a name="l00215"></a>00215         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 9, addressCityItem);
<a name="l00216"></a>00216 
<a name="l00217"></a>00217         <span class="comment">// Address State</span>
<a name="l00218"></a>00218         QTableWidgetItem *addressStateItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00219"></a>00219         QString addressStateItemValue = physicalCustomer-&gt;<a class="code" href="class_customer.html#a518f253a85d497a7e6d29ed5889d4af9" title="Get customer&#39;s Address State.">getAddressState</a>();
<a name="l00220"></a>00220         addressStateItem-&gt;setText(addressStateItemValue);
<a name="l00221"></a>00221         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 10, addressStateItem);
<a name="l00222"></a>00222 
<a name="l00223"></a>00223         <span class="comment">// Address Postal Code</span>
<a name="l00224"></a>00224         QTableWidgetItem *addressPostalCodeItem = <span class="keyword">new</span> QTableWidgetItem();
<a name="l00225"></a>00225         QString addressPostalCodeItemValue = physicalCustomer-&gt;<a class="code" href="class_customer.html#a3ecaaa7883c982fb2d34e38879ce3176" title="Get customer&#39;s Address Postal Code.">getAddressPostalCode</a>();
<a name="l00226"></a>00226         addressPostalCodeItem-&gt;setText(addressPostalCodeItemValue);
<a name="l00227"></a>00227         ui-&gt;physicalCustomerTableWidget-&gt;setItem(i, 11, addressPostalCodeItem);
<a name="l00228"></a>00228     }
<a name="l00229"></a>00229 
<a name="l00230"></a>00230     ui-&gt;physicalCustomerTableWidget-&gt;resizeColumnsToContents();
<a name="l00231"></a>00231     ui-&gt;physicalCustomerTableWidget-&gt;selectRow(0);
<a name="l00232"></a>00232 }
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 <span class="comment">//============== PUBLIC SLOTS ================</span>
<a name="l00235"></a><a class="code" href="class_customers_list_view.html#aab89c6bea432c766951120c8f7c28034">00235</a> <span class="keywordtype">void</span> <a class="code" href="class_customers_list_view.html#aab89c6bea432c766951120c8f7c28034" title="Add new enterprise customer.">CustomersListView::onAddNewEnterpriseCustomer</a>()
<a name="l00236"></a>00236 {
<a name="l00237"></a>00237     this-&gt;parentMainWindow-&gt;<a class="code" href="class_i_main_window.html#a09cc2c103d3b2474fd41c7140e9bf5a6" title="Adds the form, that will add a enterprise customer, into MDI area.">addFormAddEnterpriseCustomerToMDI</a>();
<a name="l00238"></a>00238 }
<a name="l00239"></a>00239 
<a name="l00240"></a><a class="code" href="class_customers_list_view.html#aabca2b40633c712584299bad5b8be736">00240</a> <span class="keywordtype">void</span> <a class="code" href="class_customers_list_view.html#aabca2b40633c712584299bad5b8be736" title="Edit enterprise customer.">CustomersListView::onEditEnterpriseCustomer</a>()
<a name="l00241"></a>00241 {
<a name="l00242"></a>00242     QTableWidgetItem *item = ui-&gt;enterpriseCustomerTableWidget-&gt;selectedItems().at(0);
<a name="l00243"></a>00243     QString cnpj = item-&gt;text();
<a name="l00244"></a>00244     <a class="code" href="class_enterprise_customer.html" title="EnterpriseCustomer basic class.">EnterpriseCustomer</a> *enterpriseCustomer = (<a class="code" href="class_enterprise_customer.html" title="EnterpriseCustomer basic class.">EnterpriseCustomer</a>*)customerController-&gt;<a class="code" href="class_customer_controller.html#a54c891932e3858058916a715e5a5b81d">getCustomerById</a>(cnpj);
<a name="l00245"></a>00245     this-&gt;parentMainWindow-&gt;<a class="code" href="class_i_main_window.html#ac0a88b5faa800f8371ae914f726b90bd" title="Adds the form, that will edit a enterprise customer, into MDI area.">addFormEditEnterpriseCustomerToMDI</a>(enterpriseCustomer);
<a name="l00246"></a>00246 }
<a name="l00247"></a>00247 
<a name="l00248"></a><a class="code" href="class_customers_list_view.html#a5bdf9b2bda1c3bec0050f5435339d015">00248</a> <span class="keywordtype">void</span> <a class="code" href="class_customers_list_view.html#a5bdf9b2bda1c3bec0050f5435339d015" title="Remove enterprise customer.">CustomersListView::onRemoveEnterpriseCustomer</a>()
<a name="l00249"></a>00249 {
<a name="l00250"></a>00250     QMessageBox::StandardButton ret = QMessageBox::warning(<span class="keyword">this</span>, tr(<span class="stringliteral">&quot;ERPRock&quot;</span>),
<a name="l00251"></a>00251                                                            tr(<span class="stringliteral">&quot;Are you sure you want to remove this customer?\n&quot;</span>
<a name="l00252"></a>00252                                                               <span class="stringliteral">&quot;This action cannot be undone!&quot;</span>),
<a name="l00253"></a>00253                                                            QMessageBox::Ok | QMessageBox::Cancel,
<a name="l00254"></a>00254                                                            QMessageBox::Cancel);
<a name="l00255"></a>00255     <span class="keywordflow">if</span> (ret == QMessageBox::Ok)
<a name="l00256"></a>00256     {
<a name="l00257"></a>00257         QTableWidgetItem *item = ui-&gt;enterpriseCustomerTableWidget-&gt;selectedItems().at(0);
<a name="l00258"></a>00258         QString cnpj = item-&gt;text();
<a name="l00259"></a>00259         <a class="code" href="class_utilities.html#a2974f062d85bdb0c444a1cbe554bf228" title="Status Control.">Utilities::StatusControl</a> status = customerController-&gt;<a class="code" href="class_customer_controller.html#ae905c4a18b844197839085ff3d4b1481">removeCustomer</a>(cnpj);
<a name="l00260"></a>00260         <span class="keywordflow">switch</span>(status)
<a name="l00261"></a>00261         {
<a name="l00262"></a>00262             <span class="keywordflow">case</span> <a class="code" href="class_utilities.html#a2974f062d85bdb0c444a1cbe554bf228a401b1c4377779dc72a5046ca7b4bd02a">Utilities::NO_ERR</a>:
<a name="l00263"></a>00263             {
<a name="l00264"></a>00264                 this-&gt;<a class="code" href="class_customers_list_view.html#a6c897807aca7f2619113118304f294ea" title="List all enterprise customers.">listEnterpriseCustomers</a>();
<a name="l00265"></a>00265                 <span class="keywordflow">break</span>;
<a name="l00266"></a>00266             }
<a name="l00267"></a>00267             <span class="keywordflow">case</span> <a class="code" href="class_utilities.html#a2974f062d85bdb0c444a1cbe554bf228a497c8c8171a373b9aefc41df20927f3a">Utilities::DOESNT_EXIST</a>:
<a name="l00268"></a>00268             {
<a name="l00269"></a>00269                 QMessageBox::critical(<span class="keyword">this</span>,
<a name="l00270"></a>00270                                       tr(<span class="stringliteral">&quot;Error&quot;</span>),
<a name="l00271"></a>00271                                       tr(<span class="stringliteral">&quot;The entered CNPJ doesn&#39;t belong to any customer of database&quot;</span>),
<a name="l00272"></a>00272                                       QMessageBox::Ok);
<a name="l00273"></a>00273                 <span class="keywordflow">break</span>;
<a name="l00274"></a>00274             }
<a name="l00275"></a>00275             <span class="keywordflow">case</span> <a class="code" href="class_utilities.html#a2974f062d85bdb0c444a1cbe554bf228a7e50e5e4ba0dc0d459203bea7516d14d">Utilities::DB_NOT_CONNECTED</a>:
<a name="l00276"></a>00276             {
<a name="l00277"></a>00277                 QMessageBox::critical(<span class="keyword">this</span>,
<a name="l00278"></a>00278                                       tr(<span class="stringliteral">&quot;Error&quot;</span>),
<a name="l00279"></a>00279                                       tr(<span class="stringliteral">&quot;Database is not connected&quot;</span>),
<a name="l00280"></a>00280                                       QMessageBox::Ok);
<a name="l00281"></a>00281                 <span class="keywordflow">break</span>;
<a name="l00282"></a>00282             }
<a name="l00283"></a>00283             <span class="keywordflow">case</span> <a class="code" href="class_utilities.html#a2974f062d85bdb0c444a1cbe554bf228aa1e17c2f5a7a36fa1d2730d2ec5d2ddc">Utilities::UNKNOWN_ERROR</a>:
<a name="l00284"></a>00284             {
<a name="l00285"></a>00285                 QMessageBox::critical(<span class="keyword">this</span>,
<a name="l00286"></a>00286                                       tr(<span class="stringliteral">&quot;Error&quot;</span>),
<a name="l00287"></a>00287                                       tr(<span class="stringliteral">&quot;Unknown error&quot;</span>),
<a name="l00288"></a>00288                                       QMessageBox::Ok);
<a name="l00289"></a>00289                 <span class="keywordflow">break</span>;
<a name="l00290"></a>00290             }
<a name="l00291"></a>00291             <span class="keywordflow">default</span>:
<a name="l00292"></a>00292             {
<a name="l00293"></a>00293                 <span class="keywordflow">break</span>;
<a name="l00294"></a>00294             }
<a name="l00295"></a>00295         }
<a name="l00296"></a>00296     }
<a name="l00297"></a>00297 }
<a name="l00298"></a>00298 
<a name="l00299"></a><a class="code" href="class_customers_list_view.html#a6ae9fcbdc916c7ba7f664b5f79514f36">00299</a> <span class="keywordtype">void</span> <a class="code" href="class_customers_list_view.html#a6ae9fcbdc916c7ba7f664b5f79514f36" title="Add new physical customer.">CustomersListView::onAddNewPhysicalCustomer</a>()
<a name="l00300"></a>00300 {
<a name="l00301"></a>00301     this-&gt;parentMainWindow-&gt;<a class="code" href="class_i_main_window.html#a70e06540b40c2b01aee10854a5209606" title="Adds the form, that will add a physical customer, into MDI area.">addFormAddPhysicalCustomerToMDI</a>();
<a name="l00302"></a>00302 }
<a name="l00303"></a>00303 
<a name="l00304"></a><a class="code" href="class_customers_list_view.html#a3d36e95d829f6fb561c85d6130d1f83a">00304</a> <span class="keywordtype">void</span> <a class="code" href="class_customers_list_view.html#a3d36e95d829f6fb561c85d6130d1f83a" title="Edit physical customer.">CustomersListView::onEditPhysicalCustomer</a>()
<a name="l00305"></a>00305 {
<a name="l00306"></a>00306     QTableWidgetItem *item = ui-&gt;physicalCustomerTableWidget-&gt;selectedItems().at(0);
<a name="l00307"></a>00307     QString cpf = item-&gt;text();
<a name="l00308"></a>00308     <a class="code" href="class_physical_customer.html" title="PhysicalCustomer basic class.">PhysicalCustomer</a> *physicalCustomer = (<a class="code" href="class_physical_customer.html" title="PhysicalCustomer basic class.">PhysicalCustomer</a>*)customerController-&gt;<a class="code" href="class_customer_controller.html#a54c891932e3858058916a715e5a5b81d">getCustomerById</a>(cpf);
<a name="l00309"></a>00309     this-&gt;parentMainWindow-&gt;<a class="code" href="class_i_main_window.html#a69a5d1c90da9ee145831417391e86bb2" title="Adds the form, that will edit a physical customer, into MDI area.">addFormEditPhysicalCustomerToMDI</a>(physicalCustomer);
<a name="l00310"></a>00310 }
<a name="l00311"></a>00311 
<a name="l00312"></a><a class="code" href="class_customers_list_view.html#ac48c5529fed3eefce5b955a92a90ba91">00312</a> <span class="keywordtype">void</span> <a class="code" href="class_customers_list_view.html#ac48c5529fed3eefce5b955a92a90ba91" title="Remove physical customer.">CustomersListView::onRemovePhysicalCustomer</a>()
<a name="l00313"></a>00313 {
<a name="l00314"></a>00314     QMessageBox::StandardButton ret = QMessageBox::warning(<span class="keyword">this</span>, tr(<span class="stringliteral">&quot;ERPRock&quot;</span>),
<a name="l00315"></a>00315                                                            tr(<span class="stringliteral">&quot;Are you sure you want to remove this customer?\n&quot;</span>
<a name="l00316"></a>00316                                                               <span class="stringliteral">&quot;This action cannot be undone!&quot;</span>),
<a name="l00317"></a>00317                                                            QMessageBox::Ok | QMessageBox::Cancel,
<a name="l00318"></a>00318                                                            QMessageBox::Cancel);
<a name="l00319"></a>00319     <span class="keywordflow">if</span> (ret == QMessageBox::Ok)
<a name="l00320"></a>00320     {
<a name="l00321"></a>00321         QTableWidgetItem *item = ui-&gt;physicalCustomerTableWidget-&gt;selectedItems().at(0);
<a name="l00322"></a>00322         QString cpf = item-&gt;text();
<a name="l00323"></a>00323         <a class="code" href="class_utilities.html#a2974f062d85bdb0c444a1cbe554bf228" title="Status Control.">Utilities::StatusControl</a> status = customerController-&gt;<a class="code" href="class_customer_controller.html#ae905c4a18b844197839085ff3d4b1481">removeCustomer</a>(cpf);
<a name="l00324"></a>00324         <span class="keywordflow">switch</span>(status)
<a name="l00325"></a>00325         {
<a name="l00326"></a>00326             <span class="keywordflow">case</span> <a class="code" href="class_utilities.html#a2974f062d85bdb0c444a1cbe554bf228a401b1c4377779dc72a5046ca7b4bd02a">Utilities::NO_ERR</a>:
<a name="l00327"></a>00327             {
<a name="l00328"></a>00328                 this-&gt;<a class="code" href="class_customers_list_view.html#a3ba6b233680482495c767d0720b0c241" title="List all physical customers.">listPhysicalCustomers</a>();
<a name="l00329"></a>00329                 <span class="keywordflow">break</span>;
<a name="l00330"></a>00330             }
<a name="l00331"></a>00331             <span class="keywordflow">case</span> <a class="code" href="class_utilities.html#a2974f062d85bdb0c444a1cbe554bf228a497c8c8171a373b9aefc41df20927f3a">Utilities::DOESNT_EXIST</a>:
<a name="l00332"></a>00332             {
<a name="l00333"></a>00333                 QMessageBox::critical(<span class="keyword">this</span>,
<a name="l00334"></a>00334                                       tr(<span class="stringliteral">&quot;Error&quot;</span>),
<a name="l00335"></a>00335                                       tr(<span class="stringliteral">&quot;The entered CNPJ doesn&#39;t belong to any customer of database&quot;</span>),
<a name="l00336"></a>00336                                       QMessageBox::Ok);
<a name="l00337"></a>00337                 <span class="keywordflow">break</span>;
<a name="l00338"></a>00338             }
<a name="l00339"></a>00339             <span class="keywordflow">case</span> <a class="code" href="class_utilities.html#a2974f062d85bdb0c444a1cbe554bf228a7e50e5e4ba0dc0d459203bea7516d14d">Utilities::DB_NOT_CONNECTED</a>:
<a name="l00340"></a>00340             {
<a name="l00341"></a>00341                 QMessageBox::critical(<span class="keyword">this</span>,
<a name="l00342"></a>00342                                       tr(<span class="stringliteral">&quot;Error&quot;</span>),
<a name="l00343"></a>00343                                       tr(<span class="stringliteral">&quot;Database is not connected&quot;</span>),
<a name="l00344"></a>00344                                       QMessageBox::Ok);
<a name="l00345"></a>00345                 <span class="keywordflow">break</span>;
<a name="l00346"></a>00346             }
<a name="l00347"></a>00347             <span class="keywordflow">case</span> <a class="code" href="class_utilities.html#a2974f062d85bdb0c444a1cbe554bf228aa1e17c2f5a7a36fa1d2730d2ec5d2ddc">Utilities::UNKNOWN_ERROR</a>:
<a name="l00348"></a>00348             {
<a name="l00349"></a>00349                 QMessageBox::critical(<span class="keyword">this</span>,
<a name="l00350"></a>00350                                       tr(<span class="stringliteral">&quot;Error&quot;</span>),
<a name="l00351"></a>00351                                       tr(<span class="stringliteral">&quot;Unknown error&quot;</span>),
<a name="l00352"></a>00352                                       QMessageBox::Ok);
<a name="l00353"></a>00353                 <span class="keywordflow">break</span>;
<a name="l00354"></a>00354             }
<a name="l00355"></a>00355             <span class="keywordflow">default</span>:
<a name="l00356"></a>00356             {
<a name="l00357"></a>00357                 <span class="keywordflow">break</span>;
<a name="l00358"></a>00358             }
<a name="l00359"></a>00359         }
<a name="l00360"></a>00360     }
<a name="l00361"></a>00361 }
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 27 2012 16:56:53 for ERPRock by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
